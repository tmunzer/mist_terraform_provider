{
    "provider": {
        "name": "mistapi"
    },
    "resources": [
        {
            "name": "org_evpn_topology",
            "schema": {
                "attributes": [
                    {
                        "name": "evpn_options",
                        "single_nested": {
                            "computed_optional_required": "optional",
                            "attributes": [
                                {
                                    "name": "auto_loopback_subnet",
                                    "string": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": "172.16.192.0/24"
                                        },
                                        "description": "optional, for dhcp_relay, unique loopback IPs are required for ERB or IPClos where we can set option-82 server_id-overrides"
                                    }
                                },
                                {
                                    "name": "auto_loopback_subnet6",
                                    "string": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": "fd33:ab00:2::/64"
                                        },
                                        "description": "optional, for dhcp_relay, unique loopback IPs are required for ERB or IPClos where we can set option-82 server_id-overrides"
                                    }
                                },
                                {
                                    "name": "auto_router_id_subnet",
                                    "string": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": "172.16.254.0/23"
                                        },
                                        "description": "optional, this generates router_id automatically, if specified, `router_id_prefix` is ignored"
                                    }
                                },
                                {
                                    "name": "auto_router_id_subnet6",
                                    "string": {
                                        "computed_optional_required": "optional",
                                        "description": "optional, this generates router_id automatically, if specified, `router_id_prefix` is ignored"
                                    }
                                },
                                {
                                    "name": "core_as_border",
                                    "bool": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": false
                                        },
                                        "description": "optional, for ERB or CLOS, you can either use esilag to upstream routers or to also be the virtual-gateway\nwhen `routed_at` != `core`, whether to do virtual-gateway at core as well"
                                    }
                                },
                                {
                                    "name": "overlay",
                                    "single_nested": {
                                        "computed_optional_required": "optional",
                                        "attributes": [
                                            {
                                                "name": "as",
                                                "int64": {
                                                    "computed_optional_required": "computed_optional",
                                                    "default": {
                                                        "static": 65000
                                                    },
                                                    "description": "Overlay BGP Local AS Number",
                                                    "validators": [
                                                        {
                                                            "custom": {
                                                                "imports": [
                                                                    {
                                                                        "path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
                                                                    }
                                                                ],
                                                                "schema_definition": "int64validator.Between(1, 65535)"
                                                            }
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                },
                                {
                                    "name": "per_vlan_vga_v4_mac",
                                    "bool": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": false
                                        },
                                        "description": "by default, JUNOS uses 00-00-5e-00-01-01 as the virtual-gateway-address's v4_mac\nif enabled, 00-00-5e-00-XX-YY will be used (where XX=vlan_id/256, YY=vlan_id%256)"
                                    }
                                },
                                {
                                    "name": "routed_at",
                                    "string": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": "edge"
                                        },
                                        "description": "optional, where virtual-gateway should reside. enum: `core`, `distribution`, `edge`",
                                        "validators": [
                                            {
                                                "custom": {
                                                    "imports": [
                                                        {
                                                            "path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
                                                        }
                                                    ],
                                                    "schema_definition": "stringvalidator.OneOf(\n\"\",\n\"core\",\n\"distribution\",\n\"edge\",\n)"
                                                }
                                            }
                                        ]
                                    }
                                },
                                {
                                    "name": "underlay",
                                    "single_nested": {
                                        "computed_optional_required": "optional",
                                        "attributes": [
                                            {
                                                "name": "as_base",
                                                "int64": {
                                                    "computed_optional_required": "computed_optional",
                                                    "default": {
                                                        "static": 65001
                                                    },
                                                    "description": "Underlay BGP Base AS Number",
                                                    "validators": [
                                                        {
                                                            "custom": {
                                                                "imports": [
                                                                    {
                                                                        "path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
                                                                    }
                                                                ],
                                                                "schema_definition": "int64validator.Between(1, 65535)"
                                                            }
                                                        }
                                                    ]
                                                }
                                            },
                                            {
                                                "name": "routed_id_prefix",
                                                "string": {
                                                    "computed_optional_required": "optional"
                                                }
                                            },
                                            {
                                                "name": "subnet",
                                                "string": {
                                                    "computed_optional_required": "optional",
                                                    "description": "underlay subnet, by default, `10.255.240.0/20`, or `fd31:5700::/64` for ipv6"
                                                }
                                            },
                                            {
                                                "name": "use_ipv6",
                                                "bool": {
                                                    "computed_optional_required": "computed_optional",
                                                    "default": {
                                                        "static": false
                                                    },
                                                    "description": "if v6 is desired for underlay"
                                                }
                                            }
                                        ]
                                    }
                                },
                                {
                                    "name": "vs_instances",
                                    "map_nested": {
                                        "validators": [
                                            {
                                                "custom": {
                                                    "imports": [
                                                        {
                                                            "path": "github.com/hashicorp/terraform-plugin-framework-validators/mapvalidator"
                                                        }
                                                    ],
                                                    "schema_definition": "mapvalidator.SizeAtLeast(1)"
                                                }
                                            }
                                        ],
                                        "computed_optional_required": "optional",
                                        "nested_object": {
                                            "attributes": [
                                                {
                                                    "name": "networks",
                                                    "list": {
                                                        "computed_optional_required": "optional",
                                                        "element_type": {
                                                            "string": {}
                                                        },
                                                        "validators": [
                                                            {
                                                                "custom": {
                                                                    "imports": [
                                                                        {
                                                                            "path": "github.com/hashicorp/terraform-plugin-framework-validators/listvalidator"
                                                                        }
                                                                    ],
                                                                    "schema_definition": "listvalidator.UniqueValues()"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        },
                                        "description": "optional, for EX9200 only to seggregate virtual-switches"
                                    }
                                }
                            ],
                            "description": "EVPN Options"
                        }
                    },
                    {
                        "name": "id",
                        "string": {
                            "computed_optional_required": "computed",
                            "description": "Unique ID of the object instance in the Mist Organnization"
                        }
                    },
                    {
                        "name": "name",
                        "string": {
                            "computed_optional_required": "required",
                            "validators": [
                                {
                                    "custom": {
                                        "imports": [
                                            {
                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
                                            }
                                        ],
                                        "schema_definition": "stringvalidator.LengthBetween(1, 64)"
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "name": "org_id",
                        "string": {
                            "computed_optional_required": "required"
                        }
                    },
                    {
                        "name": "pod_names",
                        "map": {
                            "computed_optional_required": "computed_optional",
                            "element_type": {
                                "string": {}
                            },
                            "description": "Property key is the pod number"
                        }
                    },
                    {
                        "name": "switches",
                        "map_nested": {
                            "validators": [
                                {
                                    "custom": {
                                        "imports": [
                                            {
                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/mapvalidator"
                                            }
                                        ],
                                        "schema_definition": "mapvalidator.SizeAtLeast(1)"
                                    }
                                }
                            ],
                            "computed_optional_required": "required",
                            "nested_object": {
                                "attributes": [
                                    {
                                        "name": "deviceprofile_id",
                                        "string": {
                                            "computed_optional_required": "computed"
                                        }
                                    },
                                    {
                                        "name": "evpn_id",
                                        "int64": {
                                            "computed_optional_required": "computed",
                                            "validators": [
                                                {
                                                    "custom": {
                                                        "imports": [
                                                            {
                                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
                                                            }
                                                        ],
                                                        "schema_definition": "int64validator.AtLeast(1)"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "mac",
                                        "string": {
                                            "computed_optional_required": "computed",
                                            "validators": [
                                                {
                                                    "custom": {
                                                        "imports": [
                                                            {
                                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
                                                            }
                                                        ],
                                                        "schema_definition": "stringvalidator.LengthAtLeast(1)"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "model",
                                        "string": {
                                            "computed_optional_required": "computed"
                                        }
                                    },
                                    {
                                        "name": "pod",
                                        "int64": {
                                            "computed_optional_required": "computed_optional",
                                            "default": {
                                                "static": 1
                                            },
                                            "description": "optionally, for distribution / access / esilag-access, they can be placed into different pods. e.g. \n  * for CLOS, to group dist / access switches into pods\n  * for ERB/CRB, to group dist / esilag-access into pods",
                                            "validators": [
                                                {
                                                    "custom": {
                                                        "imports": [
                                                            {
                                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
                                                            }
                                                        ],
                                                        "schema_definition": "int64validator.Between(1, 255)"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "pods",
                                        "list": {
                                            "computed_optional_required": "computed_optional",
                                            "element_type": {
                                                "int64": {}
                                            },
                                            "description": "by default, core switches are assumed to be connecting all pods. \nif you want to limit the pods, you can specify pods."
                                        }
                                    },
                                    {
                                        "name": "role",
                                        "string": {
                                            "computed_optional_required": "required",
                                            "description": "use `role`==`none` to remove a switch from the topology. enum: `access`, `collapsed-core`, `core`, `distribution`, `esilag-access`, `none`",
                                            "validators": [
                                                {
                                                    "custom": {
                                                        "imports": [
                                                            {
                                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
                                                            }
                                                        ],
                                                        "schema_definition": "stringvalidator.OneOf(\n\"\",\n\"access\",\n\"collapsed-core\",\n\"core\",\n\"distribution\",\n\"esilag-access\",\n\"none\",\n)"
                                                    }
                                                },
                                                {
                                                    "custom": {
                                                        "imports": [
                                                            {
                                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
                                                            }
                                                        ],
                                                        "schema_definition": "stringvalidator.LengthAtLeast(1)"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "router_id",
                                        "string": {
                                            "computed_optional_required": "computed"
                                        }
                                    },
                                    {
                                        "name": "site_id",
                                        "string": {
                                            "computed_optional_required": "computed"
                                        }
                                    }
                                ]
                            },
                            "description": "Property key can be the switch MAC Address"
                        }
                    }
                ]
            }
        },
        {
            "name": "site_evpn_topology",
            "schema": {
                "attributes": [
                    {
                        "name": "evpn_options",
                        "single_nested": {
                            "computed_optional_required": "optional",
                            "attributes": [
                                {
                                    "name": "auto_loopback_subnet",
                                    "string": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": "172.16.192.0/24"
                                        },
                                        "description": "optional, for dhcp_relay, unique loopback IPs are required for ERB or IPClos where we can set option-82 server_id-overrides"
                                    }
                                },
                                {
                                    "name": "auto_loopback_subnet6",
                                    "string": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": "fd33:ab00:2::/64"
                                        },
                                        "description": "optional, for dhcp_relay, unique loopback IPs are required for ERB or IPClos where we can set option-82 server_id-overrides"
                                    }
                                },
                                {
                                    "name": "auto_router_id_subnet",
                                    "string": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": "172.16.254.0/23"
                                        },
                                        "description": "optional, this generates router_id automatically, if specified, `router_id_prefix` is ignored"
                                    }
                                },
                                {
                                    "name": "auto_router_id_subnet6",
                                    "string": {
                                        "computed_optional_required": "optional",
                                        "description": "optional, this generates router_id automatically, if specified, `router_id_prefix` is ignored"
                                    }
                                },
                                {
                                    "name": "core_as_border",
                                    "bool": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": false
                                        },
                                        "description": "optional, for ERB or CLOS, you can either use esilag to upstream routers or to also be the virtual-gateway\nwhen `routed_at` != `core`, whether to do virtual-gateway at core as well"
                                    }
                                },
                                {
                                    "name": "overlay",
                                    "single_nested": {
                                        "computed_optional_required": "optional",
                                        "attributes": [
                                            {
                                                "name": "as",
                                                "int64": {
                                                    "computed_optional_required": "computed_optional",
                                                    "default": {
                                                        "static": 65000
                                                    },
                                                    "description": "Overlay BGP Local AS Number",
                                                    "validators": [
                                                        {
                                                            "custom": {
                                                                "imports": [
                                                                    {
                                                                        "path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
                                                                    }
                                                                ],
                                                                "schema_definition": "int64validator.Between(1, 65535)"
                                                            }
                                                        }
                                                    ]
                                                }
                                            }
                                        ]
                                    }
                                },
                                {
                                    "name": "per_vlan_vga_v4_mac",
                                    "bool": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": false
                                        },
                                        "description": "by default, JUNOS uses 00-00-5e-00-01-01 as the virtual-gateway-address's v4_mac\nif enabled, 00-00-5e-00-XX-YY will be used (where XX=vlan_id/256, YY=vlan_id%256)"
                                    }
                                },
                                {
                                    "name": "routed_at",
                                    "string": {
                                        "computed_optional_required": "computed_optional",
                                        "default": {
                                            "static": "edge"
                                        },
                                        "description": "optional, where virtual-gateway should reside. enum: `core`, `distribution`, `edge`",
                                        "validators": [
                                            {
                                                "custom": {
                                                    "imports": [
                                                        {
                                                            "path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
                                                        }
                                                    ],
                                                    "schema_definition": "stringvalidator.OneOf(\n\"\",\n\"core\",\n\"distribution\",\n\"edge\",\n)"
                                                }
                                            }
                                        ]
                                    }
                                },
                                {
                                    "name": "underlay",
                                    "single_nested": {
                                        "computed_optional_required": "optional",
                                        "attributes": [
                                            {
                                                "name": "as_base",
                                                "int64": {
                                                    "computed_optional_required": "computed_optional",
                                                    "default": {
                                                        "static": 65001
                                                    },
                                                    "description": "Underlay BGP Base AS Number",
                                                    "validators": [
                                                        {
                                                            "custom": {
                                                                "imports": [
                                                                    {
                                                                        "path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
                                                                    }
                                                                ],
                                                                "schema_definition": "int64validator.Between(1, 65535)"
                                                            }
                                                        }
                                                    ]
                                                }
                                            },
                                            {
                                                "name": "routed_id_prefix",
                                                "string": {
                                                    "computed_optional_required": "optional"
                                                }
                                            },
                                            {
                                                "name": "subnet",
                                                "string": {
                                                    "computed_optional_required": "optional",
                                                    "description": "underlay subnet, by default, `10.255.240.0/20`, or `fd31:5700::/64` for ipv6",
                                                    "validators": [
                                                        {
                                                            "custom": {
                                                                "imports": [
                                                                    {
                                                                        "path": "github.com/Juniper/terraform-provider-mist/internal/validators"
                                                                    },
                                                                    {
                                                                        "path": "github.com/hashicorp/terraform-plugin-framework-validators/mapvalidator"
                                                                    }
                                                                ],
                                                                "schema_definition": "mistvalidator.ParseCidr(true, true)"
                                                            }
                                                        }
                                                    ]
                                                }
                                            },
                                            {
                                                "name": "use_ipv6",
                                                "bool": {
                                                    "computed_optional_required": "computed_optional",
                                                    "default": {
                                                        "static": false
                                                    },
                                                    "description": "if v6 is desired for underlay"
                                                }
                                            }
                                        ]
                                    }
                                },
                                {
                                    "name": "vs_instances",
                                    "map_nested": {
                                        "validators": [
                                            {
                                                "custom": {
                                                    "imports": [
                                                        {
                                                            "path": "github.com/hashicorp/terraform-plugin-framework-validators/mapvalidator"
                                                        }
                                                    ],
                                                    "schema_definition": "mapvalidator.SizeAtLeast(1)"
                                                }
                                            }
                                        ],
                                        "computed_optional_required": "optional",
                                        "nested_object": {
                                            "attributes": [
                                                {
                                                    "name": "networks",
                                                    "list": {
                                                        "computed_optional_required": "optional",
                                                        "element_type": {
                                                            "string": {}
                                                        },
                                                        "validators": [
                                                            {
                                                                "custom": {
                                                                    "imports": [
                                                                        {
                                                                            "path": "github.com/hashicorp/terraform-plugin-framework-validators/listvalidator"
                                                                        }
                                                                    ],
                                                                    "schema_definition": "listvalidator.UniqueValues()"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        },
                                        "description": "optional, for EX9200 only to seggregate virtual-switches"
                                    }
                                }
                            ],
                            "description": "EVPN Options"
                        }
                    },
                    {
                        "name": "id",
                        "string": {
                            "computed_optional_required": "computed",
                            "description": "Unique ID of the object instance in the Mist Organnization"
                        }
                    },
                    {
                        "name": "name",
                        "string": {
                            "computed_optional_required": "required",
                            "validators": [
                                {
                                    "custom": {
                                        "imports": [
                                            {
                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
                                            }
                                        ],
                                        "schema_definition": "stringvalidator.LengthBetween(1, 64)"
                                    }
                                }
                            ]
                        }
                    },
                    {
                        "name": "org_id",
                        "string": {
                            "computed_optional_required": "computed"
                        }
                    },
                    {
                        "name": "pod_names",
                        "map": {
                            "computed_optional_required": "computed_optional",
                            "element_type": {
                                "string": {}
                            },
                            "description": "Property key is the pod number"
                        }
                    },
                    {
                        "name": "site_id",
                        "string": {
                            "computed_optional_required": "required"
                        }
                    },
                    {
                        "name": "switches",
                        "map_nested": {
                            "validators": [
                                {
                                    "custom": {
                                        "imports": [
                                            {
                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/mapvalidator"
                                            }
                                        ],
                                        "schema_definition": "mapvalidator.SizeAtLeast(1)"
                                    }
                                }
                            ],
                            "computed_optional_required": "required",
                            "nested_object": {
                                "attributes": [
                                    {
                                        "name": "deviceprofile_id",
                                        "string": {
                                            "computed_optional_required": "computed"
                                        }
                                    },
                                    {
                                        "name": "evpn_id",
                                        "int64": {
                                            "computed_optional_required": "computed",
                                            "validators": [
                                                {
                                                    "custom": {
                                                        "imports": [
                                                            {
                                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
                                                            }
                                                        ],
                                                        "schema_definition": "int64validator.AtLeast(1)"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "mac",
                                        "string": {
                                            "computed_optional_required": "computed",
                                            "validators": [
                                                {
                                                    "custom": {
                                                        "imports": [
                                                            {
                                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
                                                            }
                                                        ],
                                                        "schema_definition": "stringvalidator.LengthAtLeast(1)"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "model",
                                        "string": {
                                            "computed_optional_required": "computed"
                                        }
                                    },
                                    {
                                        "name": "pod",
                                        "int64": {
                                            "computed_optional_required": "computed_optional",
                                            "default": {
                                                "static": 1
                                            },
                                            "description": "optionally, for distribution / access / esilag-access, they can be placed into different pods. e.g. \n  * for CLOS, to group dist / access switches into pods\n  * for ERB/CRB, to group dist / esilag-access into pods",
                                            "validators": [
                                                {
                                                    "custom": {
                                                        "imports": [
                                                            {
                                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/int64validator"
                                                            }
                                                        ],
                                                        "schema_definition": "int64validator.Between(1, 255)"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "pods",
                                        "list": {
                                            "computed_optional_required": "computed_optional",
                                            "element_type": {
                                                "int64": {}
                                            },
                                            "description": "by default, core switches are assumed to be connecting all pods. \nif you want to limit the pods, you can specify pods."
                                        }
                                    },
                                    {
                                        "name": "role",
                                        "string": {
                                            "computed_optional_required": "required",
                                            "description": "use `role`==`none` to remove a switch from the topology. enum: `access`, `collapsed-core`, `core`, `distribution`, `esilag-access`, `none`",
                                            "validators": [
                                                {
                                                    "custom": {
                                                        "imports": [
                                                            {
                                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
                                                            }
                                                        ],
                                                        "schema_definition": "stringvalidator.OneOf(\n\"\",\n\"access\",\n\"collapsed-core\",\n\"core\",\n\"distribution\",\n\"esilag-access\",\n\"none\",\n)"
                                                    }
                                                },
                                                {
                                                    "custom": {
                                                        "imports": [
                                                            {
                                                                "path": "github.com/hashicorp/terraform-plugin-framework-validators/stringvalidator"
                                                            }
                                                        ],
                                                        "schema_definition": "stringvalidator.LengthAtLeast(1)"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        "name": "router_id",
                                        "string": {
                                            "computed_optional_required": "computed"
                                        }
                                    },
                                    {
                                        "name": "site_id",
                                        "string": {
                                            "computed_optional_required": "computed"
                                        }
                                    }
                                ]
                            },
                            "description": "Property key can be the switch MAC Address"
                        }
                    }
                ]
            }
        }
    ],
    "version": "0.1"
}